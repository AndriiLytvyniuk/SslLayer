Skip to content Android Developers DESIGN  DEVELOP  DISTRIBUTE  DEVELOPER CONSOLESearchnavigation TrainingGetting StartedBuilding Apps with Content SharingBuilding Apps with MultimediaBuilding Apps with Graphics & AnimationBuilding Apps with Connectivity & the CloudBuilding Apps with Location & MapsBuilding Apps with User Info & Sign-InBuilding Apps for WearablesBuilding Apps for TVBuilding Apps for AutoBest Practices for Interaction & EngagementBest Practices for User InterfaceBest Practices for User InputBest Practices for Background JobsBest Practices for PerformanceManaging Your App's MemoryPerformance TipsImproving Layout PerformanceOptimizing Battery LifeSending Operations to Multiple ThreadsKeeping Your App ResponsiveJNI TipsSMP Primer for AndroidBest Practices for Security & PrivacyBest Practices for Permissions & IdentifiersBest Practices for TestingUsing Google Play to Distribute & MonetizeHOMEDESIGNDEVELOPTrainingAPI GuidesReferenceSamplesAndroid StudioAndroid NDKGoogle ServicesDISTRIBUTEPREVIEWDevelopTrainingBest Practices for PerformanceKeeping Your App ResponsivePreviousNextIn this documentWhat Triggers ANR?How to Avoid ANRsReinforcing ResponsivenessFigure 1. An ANR dialog displayed to the user.It's possible to write code that wins every performance test in the world, but still feels sluggish, hang or freeze for significant periods, or take too long to process input. The worst thing that can happen to your app's responsiveness is an "Application Not Responding" (ANR) dialog.In Android, the system guards against applications that are insufficiently responsive for a period of time by displaying a dialog that says your app has stopped responding, such as the dialog in Figure 1. At this point, your app has been unresponsive for a considerable period of time so the system offers the user an option to quit the app. It's critical to design responsiveness into your application so the system never displays an ANR dialog to the user.This document describes how the Android system determines whether an application is not responding and provides guidelines for ensuring that your application stays responsive.What Triggers ANR?Generally, the system displays an ANR if an application cannot respond to user input. For example, if an application blocks on some I/O operation (frequently a network access) on the UI thread so the system can't process incoming user input events. Or perhaps the app spends too much time building an elaborate in-memory structure or computing the next move in a game on the UI thread. It's always important to make sure these computations are efficient, but even the most efficient code still takes time to run.In any situation in which your app performs a potentially lengthy operation, you should not perform the work on the UI thread, but instead create a worker thread and do most of the work there. This keeps the UI thread (which drives the user interface event loop) running and prevents the system from concluding that your code has frozen. Because such threading usually is accomplished at the class level, you can think of responsiveness as a class problem. (Compare this with basic code performance, which is a method-level concern.)In Android, application responsiveness is monitored by the Activity Manager and Window Manager system services. Android will display the ANR dialog for a particular application when it detects one of the following conditions:No response to an input event (such as key press or screen touch events) within 5 seconds.A BroadcastReceiver hasn't finished executing within 10 seconds.How to Avoid ANRsAndroid applications normally run entirely on a single thread by default the "UI thread" or "main thread"). This means anything your application is doing in the UI thread that takes a long time to complete can trigger the ANR dialog because your application is not giving itself a chance to handle the input event or intent broadcasts.Therefore, any method that runs in the UI thread should do as little work as possible on that thread. In particular, activities should do as little as possible to set up in key life-cycle methods such as onCreate() and onResume(). Potentially long running operations such as network or database operations, or computationally expensive calculations such as resizing bitmaps should be done in a worker thread (or in the case of databases operations, via an asynchronous request).The most effective way to create a worker thread for longer operations is with the AsyncTask class. Simply extend AsyncTask and implement the doInBackground() method to perform the work. To post progress changes to the user, you can call publishProgress(), which invokes the onProgressUpdate() callback method. From your implementation of onProgressUpdate() (which runs on the UI thread), you can notify the user. For example:private class DownloadFilesTask extends AsyncTask<URL, Integer, Long> {    // Do the long-running work in here    protected Long doInBackground(URL... urls) {        int count = urls.length;        long totalSize = 0;        for (int i = 0; i < count; i++) {            totalSize += Downloader.downloadFile(urls[i]);            publishProgress((int) ((i / (float) count) * 100));            // Escape early if cancel() is called            if (isCancelled()) break;        }        return totalSize;    }    // This is called each time you call publishProgress()    protected void onProgressUpdate(Integer... progress) {        setProgressPercent(progress[0]);    }    // This is called when doInBackground() is finished    protected void onPostExecute(Long result) {        showNotification("Downloaded " + result + " bytes");    }}To execute this worker thread, simply create an instance and call execute():new DownloadFilesTask().execute(url1, url2, url3);Although it's more complicated than AsyncTask, you might want to instead create your own Thread or HandlerThread class. If you do, you should set the thread priority to "background" priority by calling Process.setThreadPriority() and passing THREAD_PRIORITY_BACKGROUND. If you don't set the thread to a lower priority this way, then the thread could still slow down your app because it operates at the same priority as the UI thread by default.If you implement Thread or HandlerThread, be sure that your UI thread does not block while waiting for the worker thread to complete—do not call Thread.wait() or Thread.sleep(). Instead of blocking while waiting for a worker thread to complete, your main thread should provide a Handler for the other threads to post back to upon completion. Designing your application in this way will allow your app's UI thread to remain responsive to input and thus avoid ANR dialogs caused by the 5 second input event timeout.The specific constraint on BroadcastReceiver execution time emphasizes what broadcast receivers are meant to do: small, discrete amounts of work in the background such as saving a setting or registering a Notification. So as with other methods called in the UI thread, applications should avoid potentially long-running operations or calculations in a broadcast receiver. But instead of doing intensive tasks via worker threads, your application should start an IntentService if a potentially long running action needs to be taken in response to an intent broadcast.Tip: You can use StrictMode to help find potentially long running operations such as network or database operations that you might accidentally be doing on your main thread.Reinforce ResponsivenessGenerally, 100 to 200ms is the threshold beyond which users will perceive slowness in an application. As such, here are some additional tips beyond what you should do to avoid ANR and make your application seem responsive to users:If your application is doing work in the background in response to user input, show that progress is being made (such as with a ProgressBar in your UI).For games specifically, do calculations for moves in a worker thread.If your application has a time-consuming initial setup phase, consider showing a splash screen or rendering the main view as quickly as possible, indicate that loading is in progress and fill the information asynchronously. In either case, you should indicate somehow that progress is being made, lest the user perceive that the application is frozen.Use performance tools such as Systrace and Traceview to determine bottlenecks in your app's responsiveness.PreviousCommunicating with the UI Thread NextJNI TipsGet news & tips SIGN UP FOR THE NEWSLETTER Blog Support  ANDROID DEVELOPERS ON YOUTUBE ANDROID DEVELOPERS ON GOOGLE+ ANDROID DEVELOPERS ON TWITTERExcept as noted, this content is licensed under Creative Commons Attribution 2.5. For details and restrictions, see the Content License.About Android Auto TV Wear Legal This site uses cookies to store your preferences for site-specific language and display options.Stack Exchange Inbox Reputation and Badges sign up log in tour helpSearch Q&AStack OverflowQuestionsJobsTagsUsersBadgesAsk Question_ Stack Overflow is a community of 4.7 million programmers, just like you, helping each other.Join them; it only takes a minute:Sign upJoin the Stack Overflow community to:Ask programming questions Answer and help your peers Get recognized for your expertiseAndroid WebView navigating event?up vote1down votefavoriteI'm looking for the event of a Android WebView that is equivalent to the "Navigating" event of a WPF WebBrowser, or the "ShouldStartLoad" of a IOS UiWebView.I found "shouldOverrideUrlLoading", but I don't know how to use it because the constructor needs an URL...I would like to intercept the Url before navigating, and cancel the navigation for some URLs...I'm using Xamarin in Visual Studio.WPF equivalent :webBrowser.Navigating += WebBrowserNavigating;private void WebBrowserNavigating(object sender, NavigatingEventArgs e)    {        if (//condition)        e.Cancel = true;        //Do something else    }android navigation xamarin android-webviewshareimprove this questionedited Mar 26 '15 at 14:52asked May 9 '14 at 9:01Gab3661629add a comment1 Answeractive oldest votesup vote3down voteacceptedYes, you should use the shouldOverrideUrlLoading method. This method is called automatically, so you don't have to worry about the parameters. In order to use this method, you have to create first a WebViewClient like this:private class HelloWebViewClient extends WebViewClient {     @Override   public boolean shouldOverrideUrlLoading(WebView view, String url) {         ...      }}And then, you set it as your WebViewClient:webview.setWebViewClient(new HelloWebViewClient());When the shouldOverrideUrlLoading method is called you'll receive by parameter the WebView and the URL that is going to be loaded.shareimprove this answeranswered May 9 '14 at 9:19belen21615Thanks for the answer! I have an other question : is there an equivalent to "UIWebView.EvaluateJavascript" or "WebBrowser.InvokeScript" ? – Gab May 9 '14 at 9:25There's this method: webview.getSettings().setJavaScriptEnabled(true); but I don't think it's the same thing – belen May 10 '14 at 9:09add a commentYour AnswerSign up or log inSign up using GoogleSign up using FacebookSign up using Email and PasswordPost as a guestNameEmailrequired, but never shown Post Your AnswerBy posting your answer, you agree to the privacy policy and terms of service.Not the answer you're looking for?	Browse other questions tagged android navigation xamarin android-webview or ask your own question.asked2 years agoviewed1003 timesactive1 year agoBLOGYou Can Now Download Stack Overflow’s 2016 Developer Survey DataLooking for a job?Hadoop Course Authoring Opportunity at PluralsightPluralsightNo office locationREMOTEhadoophadoop2Full Stack Developer - $60kCrossoverNo office locationREMOTEjavanode-jsAndroid DeveloperBooking.comAmsterdam, NetherlandsRELOCATIONVISA SPONSORSHIPjavaandroidOrganic Growth Product Manager BeneluxMarktplaatsAmsterdam, NetherlandsREMOTERELOCATIONandroidseoRelated195Android webview launches browser when calling loadurl0android eclipse webview back navigation0Android Webview Hangs while Loading Bing Maps2android viewpager webview div with scroll0Android WebView not loading image from assets on first time1Android webview delete single HttpOnly Cookie only1Controlling navigation in the Android WebView class17What is the Recommended Event for Updating WebView Navigation UI?0Android Navigation Drawer WebViewHot Network QuestionsBash script that lowercases filesHow to call someone "silly" in a cute way?Apply multiple functions to parts of a nested listExamples of algorithms requiring deep mathematics to prove correctnessWhat happens if I change the oil when the engine is cold?A Canadian with a flat tireIs voltage the speed of electrons?How does a website know the DNS server a client uses?What does the -rd option mean in the cp command?How to deal with a nit-picky coworkerIs 8 miles of unpaved gravel road a lot for a old-ish consumer road car to take in normal weather?Why might a planetary recon craft need to be manned?Dynamically Determine Calling Context?Generate random binary arraysIs the amount of the soil reduced when plants grow?Would fewer Jedi be more powerful?Can I play Pokemon Go in a country that I am visiting that does or does not have it available?How to return the Array or List from RemoteAction Method to Javascript?Should I sell my car if it appears I will not need it?Latin square compressionRevealing manuscript referees' identities after review: Why is this a bad idea?Can we run out of gravitational (tidal) energy?Where to create custom extensions for Magento2?Is it possible to find files created between two specific times while ignoring the dates?question feedabout us tour help blog chat data legal privacy policy work here advertising info mobile contact us feedbackTECHNOLOGY	LIFE / ARTS	CULTURE / RECREATION	SCIENCE	OTHERStack OverflowServer FaultSuper UserWeb ApplicationsAsk UbuntuWebmastersGame DevelopmentTeX - LaTeXProgrammersUnix & LinuxAsk Different (Apple)WordPress DevelopmentGeographic Information SystemsElectrical EngineeringAndroid EnthusiastsInformation SecurityDatabase AdministratorsDrupal AnswersSharePointUser ExperienceMathematicaSalesforceExpressionEngine® Answersmore (13)PhotographyScience Fiction & FantasyGraphic DesignMovies & TVSeasoned Advice (cooking)Home ImprovementPersonal Finance & MoneyAcademiamore (9)English Language & UsageSkepticsMi Yodeya (Judaism)TravelChristianityArqade (gaming)BicyclesRole-playing Gamesmore (21)MathematicsCross Validated (stats)Theoretical Computer SciencePhysicsMathOverflowChemistryBiologymore (5)Stack AppsMeta Stack ExchangeArea 51Stack Overflow Careerssite design / logo © 2016 Stack Exchange Inc; user contributions licensed under cc by-sa 3.0 with attribution requiredrev 2016.7.12.3752Для користувачів програм зчитування з екрана: натисніть тут, щоб вимкнути Миттєвий пошук Google.Googleandroid pedometer open sourceУсіЗображенняНовиниВідеоБільшеІнструменти пошукуПриблизна кількість результатів: 67 200 (0,53 сек.) Порада. Шукати результати лише українською мовою. Мову пошуку можна вибрати на сторінці НалаштуванняРезультати пошукуGitHub - j4velin/Pedometer: Lightweight pedometer app for Android ...https://github.com/j4velin/PedometerПерекласти цю сторінкуCode Issues 15 Pull requests 0 Pulse Graphs. Lightweight pedometer app for Android using the hardware step sensor. 373 commits · 1 branch · 0 releases ...‎Src · ‎372 commits · ‎IssuesGitHub - bagilevi/android-pedometer: App for Android phones that ...https://github.com/bagilevi/android-pedometerПерекласти цю сторінку... your steps. Contribute to android-pedometer development by creating an account on GitHub. ... Personal Open source Business Explore ... App for Android phones that counts your steps. http://code.google.com/p/pedometer/ ... Answer: The one attached to the source code applies, so for this version “No restrictions”.Pedometer – Програми Android у Google Playhttps://play.google.com/store/apps/details?id=de.j4velin.pedometer&hl=ukLightweight pedometer app using the hardware step-sensor for minimal battery consumption. This app is designed to be running all the time without having any ...6 best open source pedometer projects.www.findbestopensource.com/tagged/pedometerПерекласти цю сторінкуCheck out my new Facebook app: Movie Swapper - exchange movies with your friends Pedometer - Android appPedometer is an application for Android ...The pedometer Open Source Project on Open Hub - OpenHub.nethttps://www.openhub.net/p/pedometerПерекласти цю сторінкуPedometer - Android appPedometer is an application for Android phones. FeaturesIt counts your steps by using the sensors in the phone. It calculates the pace ...Android Open Source - Sensor/pedometer - Java2swww.java2s.com/Open-Source/Android.../pedometer/index....Перекласти цю сторінкуAndroid Open Source - Sensor/pedometer. ... Sensor/pedometer. Sensor · Pedometer Lightweight pedometer app for Android using the hardware step sensorhow to calculate exact foot step count using accelerometer in android?stackoverflow.com/.../how-to-calculate-exact-foot-step-coun...Перекласти цю сторінку2 груд. 2013 р. - I am developing some application like Runtastic Pedometer using the .... source code? developer.android.com/reference/android/hardware/…Create your own simple pedometer application using Android 4.4 and ...blog.bawa.com/.../create-your-own-simple-pedometer.htmlПерекласти цю сторінку9 лист. 2013 р. - Just recently, Google released Android 4.4 on Nexus 5 and it comes with various new features and capabilities. With Android 4.4 also comes ...Hi /r/pebble, I made an open-source, standalone Pedometer App ...https://www.reddit.com/.../hi_rpebble_i_made_an_opensour...Перекласти цю сторінку3 бер. 2014 р. - Hi /r/pebble, I made an open-source, standalone Pedometer App! ... right now, on Android, you'll need to be running the beta to use Pedometer.[PDF]Mobile App Design Project Pedometer Using ... - NeboMusicnebomusic.net/androidlessons/Pedometer_Project.pdfПерекласти цю сторінкуPedometer Using Accelerometer Sensor ... The Android Phone has a three direction accelerometer sensor that reads the ... 1. Open the Android Manifest.xml file ...1	2345678910УпередСовки, Київ - З телефону (історія місцезнаходжень) - Використовувати точне місцезнаходження - Докладніше   Довідка Надіслати відгук Конфіденційність Умови